<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="l10n_in_hr_payroll_structure_in_employee_salary_basic_salary_rule" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.BASIC"/>
        <field name="name">Basic Salary</field>
        <field name="sequence">1</field>
        <field name="code">BASIC</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = payslip.paid_amount
result_rate = version.l10n_in_basic_percentage * 100
        </field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_salary_rule_hra" model="hr.salary.rule">
        <field name="code">HRA</field>
        <field name="name">House Rent Allowance</field>
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="sequence" eval="16"/>
        <field name="condition_select">python</field>
        <field name="condition_python">result = bool(version.l10n_in_hra_percentage)</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['BASIC']
result_rate = version.l10n_in_hra_percentage * 100
        </field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_salary_rule_std" model="hr.salary.rule">
        <field name="code">STD</field>
        <field name="name">Standard Allowance</field>
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="sequence" eval="20"/>
        <field name="quantity">1</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = bool(version.l10n_in_standard_allowance_percentage)</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['BASIC']
result_rate = version.l10n_in_standard_allowance_percentage * 100
        </field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_salary_rule_p_bonus" model="hr.salary.rule">
        <field name="code">P_BONUS</field>
        <field name="name">Performance Bonus</field>
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="sequence" eval="24"/>
        <field name="condition_select">python</field>
        <field name="condition_python">result = bool(version.l10n_in_performance_bonus_percentage)</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['BASIC']
result_rate = version.l10n_in_performance_bonus_percentage * 100
        </field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_salary_rule_lta" model="hr.salary.rule">
        <field name="code">LTA</field>
        <field name="name">Leave Travel Allowance</field>
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="sequence" eval="26"/>
        <field name="condition_select">python</field>
        <field name="condition_python">result = bool(version.l10n_in_leave_travel_percentage)</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['BASIC']
result_rate = version.l10n_in_leave_travel_percentage * 100
        </field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_salary_rule_spl" model="hr.salary.rule">
        <field name="code">SPL</field>
        <field name="name">Fixed Allowance</field>
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="sequence" eval="31"/>
        <field name="condition_select">python</field>
        <field name="condition_python">result = bool(version.l10n_in_fixed_allowance_percentage)</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['BASIC']
result_rate = version.l10n_in_fixed_allowance_percentage * 100
        </field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_salary_rule_phone" model="hr.salary.rule">
        <field name="code">MOB</field>
        <field name="name">Phone Subscription</field>
        <field name="sequence" eval="32"/>
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="condition_select">python</field>
        <field name="condition_python">result = bool(version.l10n_in_phone_subscription)</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = version.l10n_in_phone_subscription
        </field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_salary_rule_internet" model="hr.salary.rule">
        <field name="code">INT</field>
        <field name="name">Internet Subscription</field>
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="sequence" eval="34"/>
        <field name="condition_select">python</field>
        <field name="condition_python">result = bool(version.l10n_in_internet_subscription)</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = version.l10n_in_internet_subscription
        </field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_salary_rule_meal_vouchers" model="hr.salary.rule">
        <field name="code">MEAL</field>
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Meal vouchers</field>
        <field name="sequence" eval="36"/>
        <field name="condition_select">python</field>
        <field name="condition_python">result = bool(version.l10n_in_meal_voucher_amount)</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">result = version.l10n_in_meal_voucher_amount</field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_salary_rule_company_transport" model="hr.salary.rule">
        <field name="code">CAR</field>
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Company Transport</field>
        <field name="sequence" eval="38"/>
        <field name="condition_select">python</field>
        <field name="condition_python">result = bool(version.l10n_in_company_transport)</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">result = version.l10n_in_company_transport</field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_payroll_structure_in_employee_salary_gross_salary_rule" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.GROSS"/>
        <field name="name">Taxable Salary</field>
        <field name="sequence">100</field>
        <field name="code">GROSS</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">result = categories['BASIC'] + categories['ALW']</field>
        <field name="struct_id" ref="hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_salary_rule_pt" model="hr.salary.rule">
        <field name="code">PT</field>
        <field name="name">Professional Tax</field>
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="sequence" eval="104"/>
        <field name="condition_select">python</field>
        <field name="condition_python">result = bool(version.l10n_in_pt and version.pt_rule_parameter_id)</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = 0
tax_slabs = payslip._rule_parameter(version.pt_rule_parameter_id.code)
if isinstance(tax_slabs, dict):
    gender = version.sex if version.sex in ['male', 'female'] else 'male'
    slabs = tax_slabs.get(gender, [])
else:
    slabs = tax_slabs
for amount, (lower, upper) in slabs:
    if float(lower) &lt;= categories['GROSS'] &lt;= float(upper):
        result = -amount
        break
        </field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="hr_salary_rule_pf_with_pf" model="hr.salary.rule">
        <field name="code">PF</field>
        <field name="name">Provident fund - Employee</field>
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="sequence" eval="107"/>
        <field name="condition_select">python</field>
        <field name="condition_python">result = version.l10n_in_provident_fund and version.l10n_in_pf_employee_amount</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = -categories['BASIC']
result_rate = version.l10n_in_pf_employee_percentage * 100
        </field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="hr_salary_rule_pfe_with_pf" model="hr.salary.rule">
        <field name="code">PFE</field>
        <field name="name">Provident fund - Employer</field>
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="sequence" eval="110"/>
        <field name="condition_select">python</field>
        <field name="condition_python">result = version.l10n_in_provident_fund and version.l10n_in_pf_employer_amount</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = -categories['BASIC']
result_rate = version.l10n_in_pf_employer_percentage * 100
        </field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_payslip_rule_med" model="hr.salary.rule">
        <field name="code">MED</field>
        <field name="name">Medical Insurance</field>
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="sequence" eval="113"/>
        <field name="condition_select">python</field>
        <field name="condition_python">result = bool(version.l10n_in_medical_insurance_total)</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">result = -version.l10n_in_medical_insurance_total</field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_payslip_rule_gratuity" model="hr.salary.rule">
        <field name="code">GRATUITY</field>
        <field name="name">Gratuity</field>
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="sequence" eval="112"/>
        <field name="condition_select">python</field>
        <field name="condition_python">result = bool(version.l10n_in_gratuity)</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = -categories['BASIC']
result_rate = version.l10n_in_gratuity_percentage * 100
        </field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_payslip_rule_employee_esics" model="hr.salary.rule">
        <field name="code">ESICS</field>
        <field name="name">Employee's State Insurance Corporation</field>
        <field name="sequence" eval="114"/>
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="condition_select">python</field>
        <field name="condition_python">
threshold = payslip._rule_parameter('l10n_in_esicf_value')
result = version.l10n_in_esic and version.l10n_in_esic_employee_percentage and version.l10n_in_esic_employer_percentage and categories['GROSS'] &lt;= threshold
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = -categories['GROSS']
result_rate = version.l10n_in_esic_employee_percentage * 100
        </field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_payslip_rule_employer_esicf" model="hr.salary.rule">
        <field name="code">ESICF</field>
        <field name="name">Employer's State Insurance Corporation</field>
        <field name="sequence" eval="116"/>
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="condition_select">python</field>
        <field name="condition_python">
threshold = payslip._rule_parameter('l10n_in_esicf_value')
result = version.l10n_in_esic and version.l10n_in_esic_employee_percentage and version.l10n_in_esic_employer_percentage and categories['GROSS'] &lt;= threshold
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = -categories['GROSS']
result_rate = version.l10n_in_esic_employer_percentage * 100
        </field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_payslip_rule_lwf_employee" model="hr.salary.rule">
        <field name="code">LWFE</field>
        <field name="name">Employee's Deduction Towards State Labour Welfare Fund</field>
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="sequence" eval="118"/>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = bool(version.l10n_in_labour_welfare and version.l10n_in_lwf_employee_contribution)
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">result = -version.l10n_in_lwf_employee_contribution</field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_payslip_rule_lwf_employer" model="hr.salary.rule">
        <field name="code">LWF</field>
        <field name="name">Employer's Deduction Towards State Labour Welfare Fund </field>
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = bool(version.l10n_in_labour_welfare and version.l10n_in_lwf_employer_contribution)
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">result = -version.l10n_in_lwf_employer_contribution</field>
        <field name="sequence" eval="120"/>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_payslip_rule_tds" model="hr.salary.rule">
        <field name="code">TDS</field>
        <field name="name">Tax Deducted at Source</field>
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="condition_select">python</field>
        <field name="condition_python">result = bool(version.l10n_in_tds)</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">result = -(version.l10n_in_tds)</field>
        <field name="sequence" eval="140"/>
        <field name="struct_id" ref="hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_payroll_structure_in_employee_salary_attachment_of_salary_rule" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">Attachment of Salary</field>
        <field name="sequence">174</field>
        <field name="code">ATTACH_SALARY</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'ATTACH_SALARY' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = -inputs['ATTACH_SALARY'].amount
result_name = inputs['ATTACH_SALARY'].name
        </field>
        <field name="struct_id" ref="hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_payroll_structure_in_employee_salary_assignment_of_salary_rule" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">Assignment of Salary</field>
        <field name="sequence">174</field>
        <field name="code">ASSIG_SALARY</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'ASSIG_SALARY' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = -inputs['ASSIG_SALARY'].amount
result_name = inputs['ASSIG_SALARY'].name
        </field>
        <field name="struct_id" ref="hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_payroll_structure_in_employee_salary_child_support" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">Child Support</field>
        <field name="code">CHILD_SUPPORT</field>
        <field name="amount_select">code</field>
        <field name="sequence">174</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'CHILD_SUPPORT' in inputs</field>
        <field name="amount_python_compute">
result = -inputs['CHILD_SUPPORT'].amount
result_name = inputs['CHILD_SUPPORT'].name
        </field>
        <field name="struct_id" ref="hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_salary_rule_expenses_reimbursement" model="hr.salary.rule">
        <field name="name">Expenses Reimbursement</field>
        <field name="code">EXPENSES</field>
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="sequence" eval="190"/>
        <field name="condition_select">python</field>
        <field name="condition_python">result = inputs['EXPENSES'].amount > 0.0 if 'EXPENSES' in inputs else False</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['EXPENSES'].amount
result_name = inputs['EXPENSES'].name
        </field>
        <field name="struct_id" ref="l10n_in_hr_payroll.hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_payroll_structure_in_employee_salary_deduction_salary_rule" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">Deduction</field>
        <field name="sequence">198</field>
        <field name="code">DEDUCTION</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'DEDUCTION' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = -inputs['DEDUCTION'].amount
result_name = inputs['DEDUCTION'].name
        </field>
        <field name="struct_id" ref="hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_payroll_structure_in_employee_salary_reimbursement_salary_rule" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Reimbursement</field>
        <field name="sequence">199</field>
        <field name="code">REIMBURSEMENT</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'REIMBURSEMENT' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['REIMBURSEMENT'].amount
result_name = inputs['REIMBURSEMENT'].name
        </field>
        <field name="struct_id" ref="hr_payroll_structure_in_employee_salary"/>
    </record>

    <record id="l10n_in_hr_payroll_structure_in_employee_salary_net_salary" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.NET"/>
        <field name="name">Net Salary</field>
        <field name="sequence">200</field>
        <field name="code">NET</field>
        <field name="appears_on_employee_cost_dashboard" eval="True"/>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['BASIC'] + categories['ALW'] + categories['DED']
        </field>
        <field name="struct_id" ref="hr_payroll_structure_in_employee_salary"/>
    </record>
</odoo>
