# Part of Odoo. See LICENSE file for full copyright and licensing details.
from odoo import models
from odoo.addons.account.models.chart_template import template


class AccountChartTemplate(models.AbstractModel):
    _inherit = 'account.chart.template'

    def _load(self, template_code, company, install_demo, force_create=True):
        res = super()._load(template_code, company, install_demo, force_create)
        if template_code == 'br':
            self._l10n_br_init_avatax_code(company)
        return res

    @template('br', 'account.tax')
    def _get_br_avatax_account_tax(self):
        return {
            'tax_template_out_aproxtrib_fed_incl_goods': {'l10n_br_avatax_code': 'aproxtribFed'},
            'tax_template_out_aproxtrib_fed_excl_goods': {'l10n_br_avatax_code': 'aproxtribFed'},
            'tax_template_out_aproxtrib_state_incl_goods': {'l10n_br_avatax_code': 'aproxtribState'},
            'tax_template_out_aproxtrib_state_excl_goods': {'l10n_br_avatax_code': 'aproxtribState'},
            'tax_template_out_cofins_incl_goods': {'l10n_br_avatax_code': 'cofins'},
            'tax_template_out_cofins_excl_goods': {'l10n_br_avatax_code': 'cofins'},
            'tax_template_out_cofins_deson_incl_goods': {'l10n_br_avatax_code': 'cofinsDeson'},
            'tax_template_out_cofins_deson_excl_goods': {'l10n_br_avatax_code': 'cofinsDeson'},
            'tax_template_out_cofins_st_incl_goods': {'l10n_br_avatax_code': 'cofinsSt'},
            'tax_template_out_cofins_st_excl_goods': {'l10n_br_avatax_code': 'cofinsSt'},
            'tax_template_out_icms_incl_goods': {'l10n_br_avatax_code': 'icms'},
            'tax_template_out_icms_excl_goods': {'l10n_br_avatax_code': 'icms'},
            'tax_template_out_icms_credsn_incl_goods': {'l10n_br_avatax_code': 'icmsCredsn'},
            'tax_template_out_icms_credsn_excl_goods': {'l10n_br_avatax_code': 'icmsCredsn'},
            'tax_template_out_icms_deson_incl_goods': {'l10n_br_avatax_code': 'icmsDeson'},
            'tax_template_out_icms_deson_excl_goods': {'l10n_br_avatax_code': 'icmsDeson'},
            'tax_template_out_icms_difa_dest_incl_goods': {'l10n_br_avatax_code': 'icmsDifaDest'},
            'tax_template_out_icms_difa_dest_excl_goods': {'l10n_br_avatax_code': 'icmsDifaDest'},
            'tax_template_out_icms_difa_fcp_incl_goods': {'l10n_br_avatax_code': 'icmsDifaFCP'},
            'tax_template_out_icms_difa_fcp_excl_goods': {'l10n_br_avatax_code': 'icmsDifaFCP'},
            'tax_template_out_icms_difa_remet_incl_goods': {'l10n_br_avatax_code': 'icmsDifaRemet'},
            'tax_template_out_icms_difa_remet_excl_goods': {'l10n_br_avatax_code': 'icmsDifaRemet'},
            'tax_template_out_icms_eff_incl_goods': {'l10n_br_avatax_code': 'icmsEff'},
            'tax_template_out_icms_eff_excl_goods': {'l10n_br_avatax_code': 'icmsEff'},
            'tax_template_out_icms_fcp_incl_goods': {'l10n_br_avatax_code': 'icmsFCP'},
            'tax_template_out_icms_fcp_excl_goods': {'l10n_br_avatax_code': 'icmsFCP'},
            'tax_template_out_icms_own_payer_incl_goods': {'l10n_br_avatax_code': 'icmsOwnPayer'},
            'tax_template_out_icms_own_payer_excl_goods': {'l10n_br_avatax_code': 'icmsOwnPayer'},
            'tax_template_out_icms_part_incl_goods': {'l10n_br_avatax_code': 'icmsPart'},
            'tax_template_out_icms_part_excl_goods': {'l10n_br_avatax_code': 'icmsPart'},
            'tax_template_out_icms_rf_incl_goods': {'l10n_br_avatax_code': 'icmsRf'},
            'tax_template_out_icms_rf_excl_goods': {'l10n_br_avatax_code': 'icmsRf'},
            'tax_template_out_icms_st_incl_goods': {'l10n_br_avatax_code': 'icmsSt'},
            'tax_template_out_icms_st_excl_goods': {'l10n_br_avatax_code': 'icmsSt'},
            'tax_template_out_icms_st_fcp_incl_goods': {'l10n_br_avatax_code': 'icmsStFCP'},
            'tax_template_out_icms_st_fcp_excl_goods': {'l10n_br_avatax_code': 'icmsStFCP'},
            'tax_template_out_icms_st_fcppart_incl_goods': {'l10n_br_avatax_code': 'icmsStFCPPart'},
            'tax_template_out_icms_st_fcppart_excl_goods': {'l10n_br_avatax_code': 'icmsStFCPPart'},
            'tax_template_out_icms_st_part_incl_goods': {'l10n_br_avatax_code': 'icmsStPart'},
            'tax_template_out_icms_st_part_excl_goods': {'l10n_br_avatax_code': 'icmsStPart'},
            'tax_template_out_icms_st_sd_incl_goods': {'l10n_br_avatax_code': 'icmsStSd'},
            'tax_template_out_icms_st_sd_excl_goods': {'l10n_br_avatax_code': 'icmsStSd'},
            'tax_template_out_icms_st_sd_fcp_incl_goods': {'l10n_br_avatax_code': 'icmsStSdFCP'},
            'tax_template_out_icms_st_sd_fcp_excl_goods': {'l10n_br_avatax_code': 'icmsStSdFCP'},
            'tax_template_out_ii_incl_goods': {'l10n_br_avatax_code': 'ii'},
            'tax_template_out_ii_excl_goods': {'l10n_br_avatax_code': 'ii'},
            'tax_template_out_iof_incl_goods': {'l10n_br_avatax_code': 'iof'},
            'tax_template_out_iof_excl_goods': {'l10n_br_avatax_code': 'iof'},
            'tax_template_out_ipi_incl_goods': {'l10n_br_avatax_code': 'ipi'},
            'tax_template_out_ipi_excl_goods': {'l10n_br_avatax_code': 'ipi'},
            'tax_template_out_ipi_returned_incl_goods': {'l10n_br_avatax_code': 'ipiReturned'},
            'tax_template_out_ipi_returned_excl_goods': {'l10n_br_avatax_code': 'ipiReturned'},
            'tax_template_out_pis_incl_goods': {'l10n_br_avatax_code': 'pis'},
            'tax_template_out_pis_excl_goods': {'l10n_br_avatax_code': 'pis'},
            'tax_template_out_pis_deson_incl_goods': {'l10n_br_avatax_code': 'pisDeson'},
            'tax_template_out_pis_deson_excl_goods': {'l10n_br_avatax_code': 'pisDeson'},
            'tax_template_out_pis_st_incl_goods': {'l10n_br_avatax_code': 'pisSt'},
            'tax_template_out_pis_st_excl_goods': {'l10n_br_avatax_code': 'pisSt'},
            'tax_template_out_aproxtrib_city_incl_service': {'l10n_br_avatax_code': 'aproxtribCity'},
            'tax_template_out_aproxtrib_city_excl_service': {'l10n_br_avatax_code': 'aproxtribCity'},
            'tax_template_out_pis_rf_incl_service': {'l10n_br_avatax_code': 'pisRf'},
            'tax_template_out_pis_rf_excl_service': {'l10n_br_avatax_code': 'pisRf'},
            'tax_template_out_cofins_rf_incl_service': {'l10n_br_avatax_code': 'cofinsRf'},
            'tax_template_out_cofins_rf_excl_service': {'l10n_br_avatax_code': 'cofinsRf'},
            'tax_template_out_csll_incl_service': {'l10n_br_avatax_code': 'csll'},
            'tax_template_out_csll_excl_service': {'l10n_br_avatax_code': 'csll'},
            'tax_template_out_csll_rf_incl_service': {'l10n_br_avatax_code': 'csllRf'},
            'tax_template_out_csll_rf_excl_service': {'l10n_br_avatax_code': 'csllRf'},
            'tax_template_out_iss_incl_service': {'l10n_br_avatax_code': 'iss'},
            'tax_template_out_iss_excl_service': {'l10n_br_avatax_code': 'iss'},
            'tax_template_out_iss_rf_incl_service': {'l10n_br_avatax_code': 'issRf'},
            'tax_template_out_iss_rf_excl_service': {'l10n_br_avatax_code': 'issRf'},
            'tax_template_out_ir_pj_incl_service': {'l10n_br_avatax_code': 'irpj'},
            'tax_template_out_ir_pj_excl_service': {'l10n_br_avatax_code': 'irpj'},
            'tax_template_out_ir_rf_incl_service': {'l10n_br_avatax_code': 'irrf'},
            'tax_template_out_ir_rf_excl_service': {'l10n_br_avatax_code': 'irrf'},
            'tax_template_out_cprb_incl_service': {'l10n_br_avatax_code': 'cprb'},
            'tax_template_out_cprb_excl_service': {'l10n_br_avatax_code': 'cprb'},
            'tax_template_out_cprb_rf_incl_service': {'l10n_br_avatax_code': 'cprbRf'},
            'tax_template_out_cprb_rf_excl_service': {'l10n_br_avatax_code': 'cprbRf'},
            'tax_template_out_inss_ar_incl_service': {'l10n_br_avatax_code': 'inssAr'},
            'tax_template_out_inss_ar_excl_service': {'l10n_br_avatax_code': 'inssAr'},
            'tax_template_out_inss_rf_incl_service': {'l10n_br_avatax_code': 'inssRf'},
            'tax_template_out_inss_rf_excl_service': {'l10n_br_avatax_code': 'inssRf'},
            'tax_template_in_aproxtrib_fed_incl_goods': {'l10n_br_avatax_code': 'aproxtribFed'},
            'tax_template_in_aproxtrib_fed_excl_goods': {'l10n_br_avatax_code': 'aproxtribFed'},
            'tax_template_in_aproxtrib_state_incl_goods': {'l10n_br_avatax_code': 'aproxtribState'},
            'tax_template_in_aproxtrib_state_excl_goods': {'l10n_br_avatax_code': 'aproxtribState'},
            'tax_template_in_cofins_incl_goods': {'l10n_br_avatax_code': 'cofins'},
            'tax_template_in_cofins_excl_goods': {'l10n_br_avatax_code': 'cofins'},
            'tax_template_in_cofins_deson_incl_goods': {'l10n_br_avatax_code': 'cofinsDeson'},
            'tax_template_in_cofins_deson_excl_goods': {'l10n_br_avatax_code': 'cofinsDeson'},
            'tax_template_in_cofins_st_incl_goods': {'l10n_br_avatax_code': 'cofinsSt'},
            'tax_template_in_cofins_st_excl_goods': {'l10n_br_avatax_code': 'cofinsSt'},
            'tax_template_in_icms_incl_goods': {'l10n_br_avatax_code': 'icms'},
            'tax_template_in_icms_excl_goods': {'l10n_br_avatax_code': 'icms'},
            'tax_template_in_icms_credsn_incl_goods': {'l10n_br_avatax_code': 'icmsCredsn'},
            'tax_template_in_icms_credsn_excl_goods': {'l10n_br_avatax_code': 'icmsCredsn'},
            'tax_template_in_icms_deson_incl_goods': {'l10n_br_avatax_code': 'icmsDeson'},
            'tax_template_in_icms_deson_excl_goods': {'l10n_br_avatax_code': 'icmsDeson'},
            'tax_template_in_icms_difa_dest_incl_goods': {'l10n_br_avatax_code': 'icmsDifaDest'},
            'tax_template_in_icms_difa_dest_excl_goods': {'l10n_br_avatax_code': 'icmsDifaDest'},
            'tax_template_in_icms_difa_fcp_incl_goods': {'l10n_br_avatax_code': 'icmsDifaFCP'},
            'tax_template_in_icms_difa_fcp_excl_goods': {'l10n_br_avatax_code': 'icmsDifaFCP'},
            'tax_template_in_icms_difa_remet_incl_goods': {'l10n_br_avatax_code': 'icmsDifaRemet'},
            'tax_template_in_icms_difa_remet_excl_goods': {'l10n_br_avatax_code': 'icmsDifaRemet'},
            'tax_template_in_icms_eff_incl_goods': {'l10n_br_avatax_code': 'icmsEff'},
            'tax_template_in_icms_eff_excl_goods': {'l10n_br_avatax_code': 'icmsEff'},
            'tax_template_in_icms_fcp_incl_goods': {'l10n_br_avatax_code': 'icmsFCP'},
            'tax_template_in_icms_fcp_excl_goods': {'l10n_br_avatax_code': 'icmsFCP'},
            'tax_template_in_icms_own_payer_incl_goods': {'l10n_br_avatax_code': 'icmsOwnPayer'},
            'tax_template_in_icms_own_payer_excl_goods': {'l10n_br_avatax_code': 'icmsOwnPayer'},
            'tax_template_in_icms_part_incl_goods': {'l10n_br_avatax_code': 'icmsPart'},
            'tax_template_in_icms_part_excl_goods': {'l10n_br_avatax_code': 'icmsPart'},
            'tax_template_in_icms_rf_incl_goods': {'l10n_br_avatax_code': 'icmsRf'},
            'tax_template_in_icms_rf_excl_goods': {'l10n_br_avatax_code': 'icmsRf'},
            'tax_template_in_icms_st_incl_goods': {'l10n_br_avatax_code': 'icmsSt'},
            'tax_template_in_icms_st_excl_goods': {'l10n_br_avatax_code': 'icmsSt'},
            'tax_template_in_icms_st_fcp_incl_goods': {'l10n_br_avatax_code': 'icmsStFCP'},
            'tax_template_in_icms_st_fcp_excl_goods': {'l10n_br_avatax_code': 'icmsStFCP'},
            'tax_template_in_icms_st_fcppart_incl_goods': {'l10n_br_avatax_code': 'icmsStFCPPart'},
            'tax_template_in_icms_st_fcppart_excl_goods': {'l10n_br_avatax_code': 'icmsStFCPPart'},
            'tax_template_in_icms_st_part_incl_goods': {'l10n_br_avatax_code': 'icmsStPart'},
            'tax_template_in_icms_st_part_excl_goods': {'l10n_br_avatax_code': 'icmsStPart'},
            'tax_template_in_icms_st_sd_incl_goods': {'l10n_br_avatax_code': 'icmsStSd'},
            'tax_template_in_icms_st_sd_excl_goods': {'l10n_br_avatax_code': 'icmsStSd'},
            'tax_template_in_icms_st_sd_fcp_incl_goods': {'l10n_br_avatax_code': 'icmsStSdFCP'},
            'tax_template_in_icms_st_sd_fcp_excl_goods': {'l10n_br_avatax_code': 'icmsStSdFCP'},
            'tax_template_in_ii_incl_goods': {'l10n_br_avatax_code': 'ii'},
            'tax_template_in_ii_excl_goods': {'l10n_br_avatax_code': 'ii'},
            'tax_template_in_iof_incl_goods': {'l10n_br_avatax_code': 'iof'},
            'tax_template_in_iof_excl_goods': {'l10n_br_avatax_code': 'iof'},
            'tax_template_in_ipi_incl_goods': {'l10n_br_avatax_code': 'ipi'},
            'tax_template_in_ipi_excl_goods': {'l10n_br_avatax_code': 'ipi'},
            'tax_template_in_ipi_returned_incl_goods': {'l10n_br_avatax_code': 'ipiReturned'},
            'tax_template_in_ipi_returned_excl_goods': {'l10n_br_avatax_code': 'ipiReturned'},
            'tax_template_in_pis_incl_goods': {'l10n_br_avatax_code': 'pis'},
            'tax_template_in_pis_excl_goods': {'l10n_br_avatax_code': 'pis'},
            'tax_template_in_pis_deson_incl_goods': {'l10n_br_avatax_code': 'pisDeson'},
            'tax_template_in_pis_deson_excl_goods': {'l10n_br_avatax_code': 'pisDeson'},
            'tax_template_in_pis_st_incl_goods': {'l10n_br_avatax_code': 'pisSt'},
            'tax_template_in_pis_st_excl_goods': {'l10n_br_avatax_code': 'pisSt'},
            'tax_template_in_aproxtrib_city_incl_service': {'l10n_br_avatax_code': 'aproxtribCity'},
            'tax_template_in_aproxtrib_city_excl_service': {'l10n_br_avatax_code': 'aproxtribCity'},
            'tax_template_in_pis_rf_incl_service': {'l10n_br_avatax_code': 'pisRf'},
            'tax_template_in_pis_rf_excl_service': {'l10n_br_avatax_code': 'pisRf'},
            'tax_template_in_cofins_rf_incl_service': {'l10n_br_avatax_code': 'cofinsRf'},
            'tax_template_in_cofins_rf_excl_service': {'l10n_br_avatax_code': 'cofinsRf'},
            'tax_template_in_csll_incl_service': {'l10n_br_avatax_code': 'csll'},
            'tax_template_in_csll_excl_service': {'l10n_br_avatax_code': 'csll'},
            'tax_template_in_csll_rf_incl_service': {'l10n_br_avatax_code': 'csllRf'},
            'tax_template_in_csll_rf_excl_service': {'l10n_br_avatax_code': 'csllRf'},
            'tax_template_in_iss_incl_service': {'l10n_br_avatax_code': 'iss'},
            'tax_template_in_iss_excl_service': {'l10n_br_avatax_code': 'iss'},
            'tax_template_in_iss_rf_incl_service': {'l10n_br_avatax_code': 'issRf'},
            'tax_template_in_iss_rf_excl_service': {'l10n_br_avatax_code': 'issRf'},
            'tax_template_in_ir_pj_incl_service': {'l10n_br_avatax_code': 'irpj'},
            'tax_template_in_ir_pj_excl_service': {'l10n_br_avatax_code': 'irpj'},
            'tax_template_in_ir_rf_incl_service': {'l10n_br_avatax_code': 'irrf'},
            'tax_template_in_ir_rf_excl_service': {'l10n_br_avatax_code': 'irrf'},
            'tax_template_in_cprb_incl_service': {'l10n_br_avatax_code': 'cprb'},
            'tax_template_in_cprb_excl_service': {'l10n_br_avatax_code': 'cprb'},
            'tax_template_in_cprb_rf_incl_service': {'l10n_br_avatax_code': 'cprbRf'},
            'tax_template_in_cprb_rf_excl_service': {'l10n_br_avatax_code': 'cprbRf'},
            'tax_template_in_inss_ar_incl_service': {'l10n_br_avatax_code': 'inssAr'},
            'tax_template_in_inss_ar_excl_service': {'l10n_br_avatax_code': 'inssAr'},
            'tax_template_in_inss_rf_incl_service': {'l10n_br_avatax_code': 'inssRf'},
            'tax_template_in_inss_rf_excl_service': {'l10n_br_avatax_code': 'inssRf'},
            'tax_template_out_is_incl_sale': {'l10n_br_avatax_code': 'is'},
            'tax_template_out_is_excl_sale': {'l10n_br_avatax_code': 'is'},
            'tax_template_out_is_st_incl_sale': {'l10n_br_avatax_code': 'isSpecific'},
            'tax_template_out_is_st_excl_sale': {'l10n_br_avatax_code': 'isSpecific'},
            'tax_template_out_cbs_incl_sale': {'l10n_br_avatax_code': 'cbs'},
            'tax_template_out_cbs_excl_sale': {'l10n_br_avatax_code': 'cbs'},
            'tax_template_out_ibs_incl_sale': {'l10n_br_avatax_code': 'ibs'},
            'tax_template_out_ibs_excl_sale': {'l10n_br_avatax_code': 'ibs'},
            'tax_template_out_ibs_uf_incl_sale': {'l10n_br_avatax_code': 'ibsUf'},
            'tax_template_out_ibs_uf_excl_sale': {'l10n_br_avatax_code': 'ibsUf'},
            'tax_template_out_ibs_mun_incl_sale': {'l10n_br_avatax_code': 'ibsMun'},
            'tax_template_out_ibs_mun_excl_sale': {'l10n_br_avatax_code': 'ibsMun'},
            'tax_template_out_cbs_presumed_incl_sale': {'l10n_br_avatax_code': 'cbsPresumed'},
            'tax_template_out_cbs_presumed_excl_sale': {'l10n_br_avatax_code': 'cbsPresumed'},
            'tax_template_out_ibs_presumed_incl_sale': {'l10n_br_avatax_code': 'ibsPresumed'},
            'tax_template_out_ibs_presumed_excl_sale': {'l10n_br_avatax_code': 'ibsPresumed'},
            'tax_template_out_cbs_pres_suscond_incl_sale': {'l10n_br_avatax_code': 'cbsPresSusCond'},
            'tax_template_out_cbs_pres_suscond_excl_sale': {'l10n_br_avatax_code': 'cbsPresSusCond'},
            'tax_template_out_ibs_pres_suscond_incl_sale': {'l10n_br_avatax_code': 'ibsPresSusCond'},
            'tax_template_out_ibs_pres_suscond_excl_sale': {'l10n_br_avatax_code': 'ibsPresSusCond'},
            'tax_template_out_cbs_regular_incl_sale': {'l10n_br_avatax_code': 'cbsRegular'},
            'tax_template_out_cbs_regular_excl_sale': {'l10n_br_avatax_code': 'cbsRegular'},
            'tax_template_out_ibs_uf_regular_incl_sale': {'l10n_br_avatax_code': 'ibsUfRegular'},
            'tax_template_out_ibs_uf_regular_excl_sale': {'l10n_br_avatax_code': 'ibsUfRegular'},
            'tax_template_out_ibs_mun_regular_incl_sale': {'l10n_br_avatax_code': 'ibsMunRegular'},
            'tax_template_out_ibs_mun_regular_excl_sale': {'l10n_br_avatax_code': 'ibsMunRegular'},
            'tax_template_out_cbs_deferred_incl_sale': {'l10n_br_avatax_code': 'cbsDeferred'},
            'tax_template_out_cbs_deferred_excl_sale': {'l10n_br_avatax_code': 'cbsDeferred'},
            'tax_template_out_ibs_deferred_incl_sale': {'l10n_br_avatax_code': 'ibsDeferred'},
            'tax_template_out_ibs_deferred_excl_sale': {'l10n_br_avatax_code': 'ibsDeferred'},
            'tax_template_out_ibs_uf_deferred_incl_sale': {'l10n_br_avatax_code': 'ibsUfDeferred'},
            'tax_template_out_ibs_uf_deferred_excl_sale': {'l10n_br_avatax_code': 'ibsUfDeferred'},
            'tax_template_out_ibs_mun_deferred_incl_sale': {'l10n_br_avatax_code': 'ibsMunDeferred'},
            'tax_template_out_ibs_mun_deferred_excl_sale': {'l10n_br_avatax_code': 'ibsMunDeferred'},
            'tax_template_out_cbs_sbjwh_incl_sale': {'l10n_br_avatax_code': 'cbsSbjWh'},
            'tax_template_out_cbs_sbjwh_excl_sale': {'l10n_br_avatax_code': 'cbsSbjWh'},
            'tax_template_out_cbs_prvwh_incl_sale': {'l10n_br_avatax_code': 'cbsPrvWh'},
            'tax_template_out_cbs_prvwh_excl_sale': {'l10n_br_avatax_code': 'cbsPrvWh'},
            'tax_template_out_ibs_sbjwh_incl_sale': {'l10n_br_avatax_code': 'ibsSbjWh'},
            'tax_template_out_ibs_sbjwh_excl_sale': {'l10n_br_avatax_code': 'ibsSbjWh'},
            'tax_template_out_ibs_prvwh_incl_sale': {'l10n_br_avatax_code': 'ibsPrvWh'},
            'tax_template_out_ibs_prvwh_excl_sale': {'l10n_br_avatax_code': 'ibsPrvWh'},
            'tax_template_out_cbs_taxreturn_incl_sale': {'l10n_br_avatax_code': 'cbsTaxReturn'},
            'tax_template_out_cbs_taxreturn_excl_sale': {'l10n_br_avatax_code': 'cbsTaxReturn'},
            'tax_template_out_ibs_uf_taxreturn_incl_sale': {'l10n_br_avatax_code': 'ibsUfTaxReturn'},
            'tax_template_out_ibs_uf_taxreturn_excl_sale': {'l10n_br_avatax_code': 'ibsUfTaxReturn'},
            'tax_template_out_ibs_mun_taxreturn_incl_sale': {'l10n_br_avatax_code': 'ibsMunTaxReturn'},
            'tax_template_out_ibs_mun_taxreturn_excl_sale': {'l10n_br_avatax_code': 'ibsMunTaxReturn'},
            'tax_template_out_cbs_govtaxcomp_incl_sale': {'l10n_br_avatax_code': 'cbsGovTaxComp'},
            'tax_template_out_cbs_govtaxcomp_excl_sale': {'l10n_br_avatax_code': 'cbsGovTaxComp'},
            'tax_template_out_ibs_uf_govtaxcomp_incl_sale': {'l10n_br_avatax_code': 'ibsUfGovTaxComp'},
            'tax_template_out_ibs_uf_govtaxcomp_excl_sale': {'l10n_br_avatax_code': 'ibsUfGovTaxComp'},
            'tax_template_out_ibs_mun_govtaxcomp_incl_sale': {'l10n_br_avatax_code': 'ibsMunGovTaxComp'},
            'tax_template_out_ibs_mun_govtaxcomp_excl_sale': {'l10n_br_avatax_code': 'ibsMunGovTaxComp'},
            'tax_template_out_ibs_prescredzfm_incl_sale': {'l10n_br_avatax_code': 'ibsPresCredZFM'},
            'tax_template_out_ibs_prescredzfm_excl_sale': {'l10n_br_avatax_code': 'ibsPresCredZFM'},
            'tax_template_out_cbs_transfercred_incl_sale': {'l10n_br_avatax_code': 'cbsTranferCred'},
            'tax_template_out_cbs_transfercred_excl_sale': {'l10n_br_avatax_code': 'cbsTranferCred'},
            'tax_template_out_ibs_transfercred_incl_sale': {'l10n_br_avatax_code': 'ibsTranferCred'},
            'tax_template_out_ibs_transfercred_excl_sale': {'l10n_br_avatax_code': 'ibsTranferCred'},
            'tax_template_out_is_incl_purchase': {'l10n_br_avatax_code': 'is'},
            'tax_template_out_is_excl_purchase': {'l10n_br_avatax_code': 'is'},
            'tax_template_out_is_st_incl_purchase': {'l10n_br_avatax_code': 'isSpecific'},
            'tax_template_out_is_st_excl_purchase': {'l10n_br_avatax_code': 'isSpecific'},
            'tax_template_out_cbs_incl_purchase': {'l10n_br_avatax_code': 'cbs'},
            'tax_template_out_cbs_excl_purchase': {'l10n_br_avatax_code': 'cbs'},
            'tax_template_out_ibs_incl_purchase': {'l10n_br_avatax_code': 'ibs'},
            'tax_template_out_ibs_excl_purchase': {'l10n_br_avatax_code': 'ibs'},
            'tax_template_out_ibs_uf_incl_purchase': {'l10n_br_avatax_code': 'ibsUf'},
            'tax_template_out_ibs_uf_excl_purchase': {'l10n_br_avatax_code': 'ibsUf'},
            'tax_template_out_ibs_mun_incl_purchase': {'l10n_br_avatax_code': 'ibsMun'},
            'tax_template_out_ibs_mun_excl_purchase': {'l10n_br_avatax_code': 'ibsMun'},
            'tax_template_out_cbs_presumed_incl_purchase': {'l10n_br_avatax_code': 'cbsPresumed'},
            'tax_template_out_cbs_presumed_excl_purchase': {'l10n_br_avatax_code': 'cbsPresumed'},
            'tax_template_out_ibs_presumed_incl_purchase': {'l10n_br_avatax_code': 'ibsPresumed'},
            'tax_template_out_ibs_presumed_excl_purchase': {'l10n_br_avatax_code': 'ibsPresumed'},
            'tax_template_out_cbs_pres_suscond_incl_purchase': {'l10n_br_avatax_code': 'cbsPresSusCond'},
            'tax_template_out_cbs_pres_suscond_excl_purchase': {'l10n_br_avatax_code': 'cbsPresSusCond'},
            'tax_template_out_ibs_pres_suscond_incl_purchase': {'l10n_br_avatax_code': 'ibsPresSusCond'},
            'tax_template_out_ibs_pres_suscond_excl_purchase': {'l10n_br_avatax_code': 'ibsPresSusCond'},
            'tax_template_out_cbs_regular_incl_purchase': {'l10n_br_avatax_code': 'cbsRegular'},
            'tax_template_out_cbs_regular_excl_purchase': {'l10n_br_avatax_code': 'cbsRegular'},
            'tax_template_out_ibs_uf_regular_incl_purchase': {'l10n_br_avatax_code': 'ibsUfRegular'},
            'tax_template_out_ibs_uf_regular_excl_purchase': {'l10n_br_avatax_code': 'ibsUfRegular'},
            'tax_template_out_ibs_mun_regular_incl_purchase': {'l10n_br_avatax_code': 'ibsMunRegular'},
            'tax_template_out_ibs_mun_regular_excl_purchase': {'l10n_br_avatax_code': 'ibsMunRegular'},
            'tax_template_out_cbs_deferred_incl_purchase': {'l10n_br_avatax_code': 'cbsDeferred'},
            'tax_template_out_cbs_deferred_excl_purchase': {'l10n_br_avatax_code': 'cbsDeferred'},
            'tax_template_out_ibs_deferred_incl_purchase': {'l10n_br_avatax_code': 'ibsDeferred'},
            'tax_template_out_ibs_deferred_excl_purchase': {'l10n_br_avatax_code': 'ibsDeferred'},
            'tax_template_out_ibs_uf_deferred_incl_purchase': {'l10n_br_avatax_code': 'ibsUfDeferred'},
            'tax_template_out_ibs_uf_deferred_excl_purchase': {'l10n_br_avatax_code': 'ibsUfDeferred'},
            'tax_template_out_ibs_mun_deferred_incl_purchase': {'l10n_br_avatax_code': 'ibsMunDeferred'},
            'tax_template_out_ibs_mun_deferred_excl_purchase': {'l10n_br_avatax_code': 'ibsMunDeferred'},
            'tax_template_out_cbs_sbjwh_incl_purchase': {'l10n_br_avatax_code': 'cbsSbjWh'},
            'tax_template_out_cbs_sbjwh_excl_purchase': {'l10n_br_avatax_code': 'cbsSbjWh'},
            'tax_template_out_cbs_prvwh_incl_purchase': {'l10n_br_avatax_code': 'cbsPrvWh'},
            'tax_template_out_cbs_prvwh_excl_purchase': {'l10n_br_avatax_code': 'cbsPrvWh'},
            'tax_template_out_ibs_sbjwh_incl_purchase': {'l10n_br_avatax_code': 'ibsSbjWh'},
            'tax_template_out_ibs_sbjwh_excl_purchase': {'l10n_br_avatax_code': 'ibsSbjWh'},
            'tax_template_out_ibs_prvwh_incl_purchase': {'l10n_br_avatax_code': 'ibsPrvWh'},
            'tax_template_out_ibs_prvwh_excl_purchase': {'l10n_br_avatax_code': 'ibsPrvWh'},
            'tax_template_out_cbs_taxreturn_incl_purchase': {'l10n_br_avatax_code': 'cbsTaxReturn'},
            'tax_template_out_cbs_taxreturn_excl_purchase': {'l10n_br_avatax_code': 'cbsTaxReturn'},
            'tax_template_out_ibs_uf_taxreturn_incl_purchase': {'l10n_br_avatax_code': 'ibsUfTaxReturn'},
            'tax_template_out_ibs_uf_taxreturn_excl_purchase': {'l10n_br_avatax_code': 'ibsUfTaxReturn'},
            'tax_template_out_ibs_mun_taxreturn_incl_purchase': {'l10n_br_avatax_code': 'ibsMunTaxReturn'},
            'tax_template_out_ibs_mun_taxreturn_excl_purchase': {'l10n_br_avatax_code': 'ibsMunTaxReturn'},
            'tax_template_out_cbs_govtaxcomp_incl_purchase': {'l10n_br_avatax_code': 'cbsGovTaxComp'},
            'tax_template_out_cbs_govtaxcomp_excl_purchase': {'l10n_br_avatax_code': 'cbsGovTaxComp'},
            'tax_template_out_ibs_uf_govtaxcomp_incl_purchase': {'l10n_br_avatax_code': 'ibsUfGovTaxComp'},
            'tax_template_out_ibs_uf_govtaxcomp_excl_purchase': {'l10n_br_avatax_code': 'ibsUfGovTaxComp'},
            'tax_template_out_ibs_mun_govtaxcomp_incl_purchase': {'l10n_br_avatax_code': 'ibsMunGovTaxComp'},
            'tax_template_out_ibs_mun_govtaxcomp_excl_purchase': {'l10n_br_avatax_code': 'ibsMunGovTaxComp'},
            'tax_template_out_ibs_prescredzfm_incl_purchase': {'l10n_br_avatax_code': 'ibsPresCredZFM'},
            'tax_template_out_ibs_prescredzfm_excl_purchase': {'l10n_br_avatax_code': 'ibsPresCredZFM'},
            'tax_template_out_cbs_transfercred_incl_purchase': {'l10n_br_avatax_code': 'cbsTranferCred'},
            'tax_template_out_cbs_transfercred_excl_purchase': {'l10n_br_avatax_code': 'cbsTranferCred'},
            'tax_template_out_ibs_transfercred_incl_purchase': {'l10n_br_avatax_code': 'ibsTranferCred'},
            'tax_template_out_ibs_transfercred_excl_purchase': {'l10n_br_avatax_code': 'ibsTranferCred'},
        }

    @template('br', 'account.fiscal.position')
    def _get_br_avatax_fiscal_position(self):
        return {
            'account_fiscal_position_avatax_br': {
                'name': 'Automatic Tax Mapping (Avalara Brazil)',
                'l10n_br_is_avatax': True,
                'country_id': self.env.ref('base.br').id,
            }
        }

    def _l10n_br_init_avatax_code(self, companies):
        for company in companies:
            Template = self.env['account.chart.template'].with_company(company)
            for xml_id, tax_data in Template._get_br_avatax_account_tax().items():
                tax = Template.ref(xml_id, raise_if_not_found=False)
                if tax and 'l10n_br_avatax_code' in tax_data:
                    tax.l10n_br_avatax_code = tax_data['l10n_br_avatax_code']
